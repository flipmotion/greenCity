"use strict";$(document).ready(function(){var t=function(){$('[data-phone="true"]').mask("+7 (999) 999-99-99");var t=0;$(document).on("show.bs.modal",".modal",function(a){var e=1040+10*$(".modal:visible").length;$(this).css("z-index",e),t++,setTimeout(function(){$(".modal-backdrop").not(".modal-stack").css("z-index",e-1).addClass("modal-stack")},0)}),$(document).on("hidden.bs.modal",".modal",function(a){t--,t>0?$("body").addClass("modal-open"):$("body").removeClass("modal-open")});var a=$('[data-item="main-slider"]'),e=$('[data-item="second-slider"]');$("a.smooth").click(function(){return $("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top-133},1e3),!1}),$("#datetimepicker1").datetimepicker({locale:"ru",viewMode:"days",format:"DD/MM/YYYY",defaultDate:new Date}),$(".data-picker").on("click",function(t){$(this).find("input").focus()}),$("#datetimepicker1").on("dp.hide",function(){$(".data-picker").find(".input-group-addon").removeClass("active")}),$("#datetimepicker1").on("dp.show",function(){$(".data-picker").find(".input-group-addon").addClass("active")}),$('[data-item="btn-more"]').on("click",function(t){t.preventDefault(),$('[data-item="hidden"]').removeClass("hidden"),$(this).attr("href","#contactForm"),$(this).text("Заказать планировку"),$(this).on("click",function(t){return $("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top-133},1e3),!1})}),a.on("initialized.owl.carousel",function(t){var e=100/t.item.count,i=~~((t.item.index+1)*e);$('[data-item="ID1"] .indicator-line div').width(i+"%");var o,n=$('[data-item="ID1"] ul li');for(o=0;o<n.length;o++)$(n[o]).on("click",function(){var t=this.getAttribute("data-item");a.trigger("to.owl.carousel",[t,1e3])});var d=$('[data-item="ID1"] ul li');$(d).removeClass("active"),$(d[t.item.index]).addClass("active")}),a.owlCarousel({loop:!1,items:1,autoplay:!0,smartSpeed:1e3,animateOut:"fadeOut",animateIn:"fadeIn"}),a.on("changed.owl.carousel",function(t){var a=100/t.item.count,e=~~((t.item.index+1)*a);$('[data-item="ID1"] .indicator-line div').width(e+"%");var i,o=$('[data-item="ID1"] ul li'),n=t.item.index;for($(o).removeClass("active"),i=0;n>=i;i++)$(o[i]).addClass("active")}),e.on("initialized.owl.carousel",function(t){var a=100/t.item.count,i=~~((t.item.index+1)*a);$('[data-item="ID2"] .indicator-line div').width(i+"%");var o,n=$('[data-item="ID2"] ul li');for(o=0;o<n.length;o++)$(n[o]).on("click",function(){var t=this.getAttribute("data-item");e.trigger("to.owl.carousel",[t,1e3])});var d=$('[data-item="ID2"] ul li');$(d).removeClass("active"),$(d[t.item.index]).addClass("active")}),e.owlCarousel({loop:!1,items:1,autoplay:!0,nav:!0,smartSpeed:1e3,animateOut:"fadeOut",animateIn:"fadeIn",navText:["<i class='icon icon-slider-left'></i>","<i class='icon icon-slider-right'></i>"]}),e.on("changed.owl.carousel",function(t){var a=100/t.item.count,e=~~((t.item.index+1)*a);$('[data-item="ID2"] .indicator-line div').width(e+"%");var i,o=$('[data-item="ID2"] ul li'),n=t.item.index;for($(o).removeClass("active"),i=0;n>=i;i++)$(o[i]).addClass("active")}),$("#plans").on("show.bs.modal",function(t){var a=$(t.relatedTarget).data("name"),e=$(t.currentTarget).find("h3"),i=$(t.relatedTarget).data("size"),o=$(t.currentTarget).find(".modal-plan-size"),n=$(t.relatedTarget).data("description"),d=$(t.currentTarget).find(".modal-plan-description p"),l=$(t.relatedTarget).data("img"),r=$(t.currentTarget).find(".modal-plan-img img");e.html(a),o.html(i),d.html(n),console.log(l),r.attr("src",l)}),$(".hide-map").on("click",function(t){t.preventDefault();var a=t.currentTarget;$(a).parents(".overflow").toggleClass("hide-m")});var i={ValidationOptions:{framework:"bootstrap",locale:"ru_RU",fields:{userName:{trigger:"blur keyup focus",validators:{notEmpty:{message:"Это поле не может быть пустым!"},blank:{}}},userPhoneNumber:{trigger:"blur keyup focus",validators:{notEmpty:{message:"Это поле не может быть пустым!"},blank:{}}},userEmail:{trigger:"blur keyup focus",validators:{notEmpty:{message:"Это поле не может быть пустым!"},blank:{}}}}},initialize:function(){this.Validation("form")},Validation:function(t){$(t).formValidation(this.ValidationOptions).on("success.form.fv",function(t){t.preventDefault();var a=$(t.target);a.data("formValidation");a.ajaxSubmit({success:function(t,a,e,i){console.log(t,a,e,i);var o=i.data("thx");$(".modal").modal("hide"),"one"===o?$("#thxCall").modal("show"):"two"===o?$("#thxPlans").modal("show"):$("#thxCall").modal("show")}})})}};i.initialize()};t()});